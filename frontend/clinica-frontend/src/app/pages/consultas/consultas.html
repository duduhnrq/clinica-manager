<div class="p-8 text-center font-['Roboto',sans-serif] flex flex-col gap-4 max-w-7xl m-auto">
  <!--Header-->
  <header class="w-full flex justify-between">
    <div class="flex flex-col gap-1 items-start">
      <p class="m-0 font-medium text-xl transition-all duration-300 ease-in-out">
        Histórico de Consultas
      </p>
      <span class="text-sm text-gray-500">Gerenciar consultas e observações</span>
    </div>

    <button
      class="bg-white border border-gray-200 px-4 h-10 rounded-md font-medium text-sm hover:bg-gray-100 transition-all duration-300 ease-in-out cursor-pointer"
      routerLink="/"
    >
      Voltar ao Menu
    </button>
  </header>

  <!-- Informações do Sistema -->
  <div class="flex justify-between gap-4">
    <div class="flex items-center gap-4 bg-white border border-gray-200 rounded-lg p-6 w-full">
      <svg
        class="w-6 h-6 text-blue-500"
        viewBox="0 0 27 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M23.7565 3.13046C23.1606 2.5343 22.4531 2.06138 21.6744 1.73873C20.8957 1.41607 20.0611 1.25 19.2182 1.25C18.3753 1.25 17.5406 1.41607 16.7619 1.73873C15.9832 2.06138 15.2757 2.5343 14.6798 3.13046L13.4432 4.36713L12.2065 3.13046C11.0029 1.92682 9.37038 1.25062 7.66817 1.25062C5.96597 1.25062 4.33348 1.92682 3.12984 3.13046C1.9262 4.3341 1.25 5.96659 1.25 7.6688C1.25 9.371 1.9262 11.0035 3.12984 12.2071L13.4432 22.5205L23.7565 12.2071C24.3527 11.6112 24.8256 10.9037 25.1482 10.125C25.4709 9.34634 25.637 8.5117 25.637 7.6688C25.637 6.82589 25.4709 5.99125 25.1482 5.21255C24.8256 4.43385 24.3527 3.72635 23.7565 3.13046Z"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <div class="flex flex-col items-start gap-1">
        <p class="text-xs font-medium text-gray-500">Total de Consultas</p>
        <span class="text-lg font-bold">{{ consultasAgendadas.length }}</span>
      </div>
    </div>
    <div
      class="flex items-center gap-4 bg-white border border-gray-200 rounded-lg px-6 py-4 w-full"
    >
      <svg
        class="w-6 h-6 text-blue-500"
        viewBox="0 0 31 22"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M28.4167 1.75L10.0833 20.0833L1.75 11.75"
          stroke="currentColor"
          stroke-width="3.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <div class="flex flex-col items-start gap-1">
        <p class="text-xs font-medium text-gray-500">Consultas Realizadas</p>
        <span class="text-lg font-bold">{{ totalConsultado }}</span>
      </div>
    </div>
    <div
      class="flex items-center gap-4 bg-white border border-gray-200 rounded-lg px-6 py-4 w-full"
    >
      <svg
        class="w-6 h-6 text-blue-500"
        viewBox="0 0 40 44"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M28 2V10M12 2V10M2 18H38M6 6H34C36.2091 6 38 7.79086 38 10V38C38 40.2091 36.2091 42 34 42H6C3.79086 42 2 40.2091 2 38V10C2 7.79086 3.79086 6 6 6Z"
          stroke="currentColor"
          stroke-width="4"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <div class="flex flex-col items-start gap-1">
        <p class="text-xs font-medium text-gray-500">Aguardando Consulta</p>
        <span class="text-lg font-bold">{{ totalAguardando }}</span>
      </div>
    </div>
  </div>

  <div class="w-full flex flex-col gap-4">
    <div class="w-full flex justify-start">
      <span class="text-sm font-medium">Total de Consultas ({{ consultasAgendadas.length }})</span>
    </div>

    <div *ngIf="carregando" class="py-8 text-center text-gray-500">Carregando...</div>
    <div *ngIf="!carregando && nenhumRegistro" class="py-8 text-center text-gray-500">
      Nenhuma consulta registrada.
    </div>

    <div *ngIf="!carregando && !nenhumRegistro" class="flex flex-col gap-4">
      <div
        *ngFor="let p of consultasAgendadas"
        class="w-full bg-white border border-gray-200 p-6 rounded-lg flex justify-between items-center"
      >
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 rounded-full bg-blue-500 text-white flex items-center justify-center font-medium"
          >
            {{ (p.pacienteNome || '—').charAt(0).toUpperCase() }}
          </div>
          <div class="flex flex-col text-left gap-1">
            <div class="text-md font-medium">{{ p.pacienteNome }}</div>
            <div class="text-sm text-gray-500 flex items-center gap-1">
              <svg
                class="w-4 h-4"
                viewBox="0 0 40 44"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M28 2V10M12 2V10M2 18H38M6 6H34C36.2091 6 38 7.79086 38 10V38C38 40.2091 36.2091 42 34 42H6C3.79086 42 2 40.2091 2 38V10C2 7.79086 3.79086 6 6 6Z"
                  stroke="currentColor"
                  stroke-width="4"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <span>{{ p.data }} às {{ p.horario }}</span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-4">
          <span
            class="text-xs font-medium rounded-xl px-2 py-0.5"
            [ngClass]="
              p.status === 'consultado'
                ? 'bg-green-50 border border-green-500 text-green-500'
                : 'bg-blue-50 border border-blue-500 text-blue-500'
            "
          >
            {{ p.status === 'consultado' ? 'Consultado' : 'Aguardando Consulta' }}
          </span>
          <button
            *ngIf="p.status !== 'consultado'"
            class="flex items-center gap-3 text-white bg-blue-500 rounded-md py-2 px-6 text-sm font-medium hover:bg-blue-600 transition-all duration-300 ease-in-out cursor-pointer"
            [routerLink]="['/consultas/consultar', p.id]"
          >
            Consultar
          </button>
          <button
            *ngIf="p.status === 'consultado'"
            class="flex items-center gap-3 text-black bg-gray-100 border border-gray-200 rounded-md py-2 px-4 text-sm font-medium hover:bg-gray-200 transition-all duration-300 ease-in-out cursor-pointer"
            [routerLink]="['/consultas/consultar', p.id]"
          >
            Ver Detalhes
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
