<div class="p-8 text-center font-['Roboto',sans-serif] flex flex-col gap-4 max-w-7xl m-auto">
  <!--Header-->
  <header class="w-full flex justify-between">
    <div class="flex flex-col gap-1 items-start">
      <p class="m-0 font-medium text-xl transition-all duration-300 ease-in-out">
        Histórico de Operações
      </p>
      <span class="text-sm text-gray-500">Gerenciar operações e observações</span>
    </div>

    <button
      class="bg-white border border-gray-200 px-4 h-10 rounded-md font-medium text-sm hover:bg-gray-100 transition-all duration-300 ease-in-out cursor-pointer"
      routerLink="/"
    >
      Voltar ao Menu
    </button>
  </header>

  <div>
    <button
      class="bg-white border border-gray-200 px-4 h-10 rounded-md font-medium text-sm hover:bg-gray-100 transition-all duration-300 ease-in-out cursor-pointer flex items-center gap-2"
      routerLink="/operacoes"
    >
      <svg
        width="11"
        height="11"
        viewBox="0 0 11 11"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.1334 5.46672H0.800049M0.800049 5.46672L5.46672 10.1334M0.800049 5.46672L5.46672 0.800049"
          stroke="#1E1E1E"
          stroke-width="1.6"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      Voltar ao Painel
    </button>
  </div>

  <div class="bg-white p-6 rounded-lg border border-gray-200 flex flex-col gap-6">
    <div class="flex items-start justify-between">
      <div class="flex flex-col gap-6">
        <div class="flex items-center gap-3">
          <svg
            class="w-6 h-6 text-blue-500"
            viewBox="0 0 32 34"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M30.0833 3.41667L10.2833 23.2167M20.8667 20.8833L30.0833 30.0833M10.2833 10.2833L16.75 16.75M11.75 6.75C11.75 9.51142 9.51142 11.75 6.75 11.75C3.98858 11.75 1.75 9.51142 1.75 6.75C1.75 3.98858 3.98858 1.75 6.75 1.75C9.51142 1.75 11.75 3.98858 11.75 6.75ZM11.75 26.75C11.75 29.5114 9.51142 31.75 6.75 31.75C3.98858 31.75 1.75 29.5114 1.75 26.75C1.75 23.9886 3.98858 21.75 6.75 21.75C9.51142 21.75 11.75 23.9886 11.75 26.75Z"
              stroke="currentColor"
              stroke-width="3.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <div class="flex flex-col items-start">
            <p class="text-md font-medium">{{ pacienteDetalhes?.nomeCompleto }}</p>
            <span class="text-gray-500 text-sm">{{ operacao?.procedimento }}</span>
          </div>
        </div>
        <div class="text-sm text-gray-500 flex items-center gap-1">
          <svg class="w-4 h-4" viewBox="0 0 40 44" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M28 2V10M12 2V10M2 18H38M6 6H34C36.2091 6 38 7.79086 38 10V38C38 40.2091 36.2091 42 34 42H6C3.79086 42 2 40.2091 2 38V10C2 7.79086 3.79086 6 6 6Z"
              stroke="currentColor"
              stroke-width="4"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <span>{{ operacao?.data }} às {{ operacao?.horario }}</span>
        </div>
      </div>

      <div>
        <span
            class="text-xs font-medium rounded-xl px-2 py-0.5"
            [ngClass]="
              operacao?.status === 'realizada'
                ? 'bg-green-50 border border-green-500 text-green-500'
                : 'bg-blue-50 border border-blue-500 text-blue-500'
            "
          >
            {{ operacao?.status === 'realizada' ? 'Realizada' : 'Aguardando' }}
          </span>
      </div>
          
    </div>

    <div class="flex flex-col w-full">
      <label class="text-sm font-medium text-start">Anotações da Operação</label>
      <textarea
        [(ngModel)]="anotacoesOperacao"       
        rows="5"
        class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
        placeholder="Suas observações sobre a operação..."
      ></textarea>
    </div>
  </div>
  <div>
    <button
      type="submit"
      (click)="salvarAnotacoes()"
      class="bg-blue-500 text-white px-6 h-10 rounded-md font-medium text-sm hover:bg-blue-600 transition-all duration-300 ease-in-out cursor-pointer"
    >
      Salvar Anotações
    </button>
  </div>

  <!-- Modal de Sucesso -->
  <div
    class="fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50"
    *ngIf="modalSucessoAberto"
  >
    <div class="bg-white rounded-2xl shadow-xl p-6 w-[90%] max-w-sm text-center">
      <div class="w-full flex justify-end" (click)="fecharModalSucesso()">
        <svg
          class="w-6 h-6 text-gray-500 hover:text-gray-600 cursor-pointer transition-all duration-300 ease-in-out"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18 17.94 6M18 18 6.06 6"
          />
        </svg>
      </div>
      <svg
        class="w-16 h-16 text-blue-500 m-auto mb-4"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
        />
      </svg>

      <h2 class="m-0 text-xl font-medium mb-1">Anotações salvas com sucesso!</h2>
      <p class="text-gray-600 mb-3">Os dados foram salvos corretamente.</p>
    </div>
  </div>
</div>
