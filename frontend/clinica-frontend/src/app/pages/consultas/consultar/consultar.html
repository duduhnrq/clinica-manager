<div class="p-8 text-center font-['Roboto',sans-serif] flex flex-col gap-4 max-w-7xl m-auto">
  <!--Header-->
  <header class="w-full flex justify-between">
    <div class="flex flex-col gap-1 items-start">
      <p class="m-0 font-medium text-xl transition-all duration-300 ease-in-out">
        Consultar Paciente
      </p>
      <span class="text-sm text-gray-500">Gerenciar observações da consulta do paciente</span>
    </div>

    <button
      class="bg-white border border-gray-200 px-4 h-10 rounded-md font-medium text-sm hover:bg-gray-100 transition-all duration-300 ease-in-out cursor-pointer"
      routerLink="/"
    >
      Voltar ao Menu
    </button>
  </header>

  <div>
    <button
      class="bg-white border border-gray-200 px-4 h-10 rounded-md font-medium text-sm hover:bg-gray-100 transition-all duration-300 ease-in-out cursor-pointer flex items-center gap-2"
      routerLink="/consultas"
    >
      <svg
        width="11"
        height="11"
        viewBox="0 0 11 11"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.1334 5.46672H0.800049M0.800049 5.46672L5.46672 10.1334M0.800049 5.46672L5.46672 0.800049"
          stroke="#1E1E1E"
          stroke-width="1.6"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      Voltar ao Painel
    </button>
  </div>

  <!-- Informações do Paciente -->
  <div class="bg-white w-full px-4 py-8 rounded-lg border border-gray-200 flex flex-col gap-6">
    <div class="flex items-center gap-2">
      <svg
        class="w-5 h-5 text-blue-500"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9M13 2L20 9M13 2V9H20"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <h2 class="text-lg font-medium text-blue-500">Informações do Paciente</h2>
    </div>

    <div class="flex justify-between w-4xl">
      <div class="flex flex-col items-start justify-center gap-2">
        <span class="text-sm font-medium">Nome:</span>
        <span class="text-xs font-medium text-gray-500">{{ agendamento.pacienteNome || '—' }}</span>
      </div>
      <div class="flex flex-col items-start justify-center gap-2">
        <span class="text-sm font-medium">Data de Nascimento:</span>
        <span class="text-xs font-medium text-gray-500">{{
          pacienteDetalhes?.dataNascimento || '—'
        }}</span>
      </div>
      <div class="flex flex-col items-start justify-center gap-2">
        <span class="text-sm font-medium">CPF:</span>
        <span class="text-xs font-medium text-gray-500">{{ pacienteDetalhes?.cpf || '—' }}</span>
      </div>
      <div class="flex flex-col items-start justify-center gap-2">
        <span class="text-sm font-medium">Telefone:</span>
        <span class="text-xs font-medium text-gray-500">{{
          pacienteDetalhes?.telefone || '—'
        }}</span>
      </div>
    </div>
  </div>

  <!-- Consulta -->
  <div class="bg-white w-full px-4 py-8 rounded-lg border border-gray-200 flex flex-col gap-6">
    <div class="flex items-center gap-2">
      <svg
        class="w-5 h-5 text-blue-500"
        viewBox="0 0 24 21"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M20.5413 2.86183C20.0305 2.35083 19.4241 1.94547 18.7566 1.66891C18.0892 1.39235 17.3738 1.25 16.6513 1.25C15.9288 1.25 15.2134 1.39235 14.5459 1.66891C13.8785 1.94547 13.272 2.35083 12.7613 2.86183L11.7013 3.92183L10.6413 2.86183C9.6096 1.83013 8.21032 1.25053 6.75129 1.25053C5.29226 1.25053 3.89298 1.83013 2.86129 2.86183C1.8296 3.89352 1.25 5.29279 1.25 6.75183C1.25 8.21086 1.8296 9.61013 2.86129 10.6418L11.7013 19.4818L20.5413 10.6418C21.0523 10.1311 21.4576 9.52464 21.7342 8.85718C22.0108 8.18972 22.1531 7.47431 22.1531 6.75183C22.1531 6.02934 22.0108 5.31393 21.7342 4.64647C21.4576 3.97901 21.0523 3.37258 20.5413 2.86183Z"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <h2 class="text-lg font-medium text-blue-500">Consulta - {{ agendamento.data || '—' }}</h2>
    </div>

    <!-- Formulário da Consulta -->
    <div class="flex flex-col gap-4">
      <div class="flex items-center gap-4">
        <div class="flex flex-col w-full gap-1">
          <label class="text-sm font-medium text-start">Tipo de Consulta *</label>
          <select
            [(ngModel)]="tipoConsulta"
            required
            class="text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          >
            <option value="" disabled selected>Selecione</option>
            <option value="avaliacao_inicial">Avaliação Inicial</option>
            <option value="retorno">Retorno</option>
            <option value="consulta_estetica">Consulta Estética</option>
            <option value="pre_operatorio">Pré-Operatório</option>
            <option value="pos_operatorio">Pós-Operatório</option>
            <option value="acompanhamento">Acompanhamento</option>
            <option value="emergencia">Emergência</option>
            <option value="encaminhamento">Encaminhamento</option>
            <option value="nutricional">Consulta Nutricional</option>
            <option value="dermatologica">Consulta Dermatológica</option>
          </select>
        </div>
        <div class="flex flex-col w-full gap-1">
          <label class="text-sm font-medium text-start">Próxima Consulta</label>
          <input
            type="date"
            [(ngModel)]="proximaConsulta"
            class="placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          />
        </div>
      </div>

      <div class="flex flex-col w-full">
        <label class="text-sm font-medium text-start">Queixas Principais *</label>
        <textarea
          [(ngModel)]="queixasPrincipais"
          required
          rows="4"
          class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          placeholder="Descreva as queixas principais do paciente..."
        ></textarea>
      </div>
      <div class="flex flex-col w-full">
        <label class="text-sm font-medium text-start">Exame Físico *</label>
        <textarea
          [(ngModel)]="exameFisico"
          required
          rows="4"
          class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          placeholder="Descreva os achados do exame físico..."
        ></textarea>
      </div>
      <div class="flex flex-col w-full">
        <label class="text-sm font-medium text-start">Diagnóstico *</label>
        <textarea
          [(ngModel)]="diagnostico"
          required
          rows="4"
          class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          placeholder="Diagnóstico médico..."
        ></textarea>
      </div>
      <div class="flex flex-col w-full">
        <label class="text-sm font-medium text-start">Tratamento Proposto *</label>
        <textarea
          [(ngModel)]="tratamentoProposto"
          required
          rows="4"
          class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          placeholder="Descreva o tratamento proposto..."
        ></textarea>
      </div>
      <div class="flex flex-col w-full">
        <label class="text-sm font-medium text-start">Recomendações</label>
        <textarea
          [(ngModel)]="recomendacoes"
          rows="4"
          class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          placeholder="Recomendações específicas para o paciente..."
        ></textarea>
      </div>
      <div class="flex flex-col w-full">
        <label class="text-sm font-medium text-start">Observações Gerais</label>
        <textarea
          [(ngModel)]="observacoesGerais"
          rows="4"
          class="w-full mt-1 placeholder:text-gray-500 text-sm border border-gray-300 bg-gray-100 py-2 px-4 rounded-md transition-all duration-300 ease-in-out focus:outline-0 focus:ring-2 focus:ring-blue-500"
          placeholder="Observações adicionais..."
        ></textarea>
      </div>
    </div>
  </div>

  <div>
    <button
      (click)="salvarConsulta()"
      class="bg-blue-500 text-white px-6 h-10 rounded-md font-medium text-sm hover:bg-blue-600 transition-all duration-300 ease-in-out cursor-pointer"
    >
      Salvar Consulta
    </button>
  </div>

  <!-- Modal de Sucesso -->
  <div
    class="fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50"
    *ngIf="modalSucessoAberto"
  >
    <div class="bg-white rounded-2xl shadow-xl p-6 w-[90%] max-w-sm text-center">
      <div class="w-full flex justify-end" (click)="fecharModalSucesso()">
        <svg
          class="w-6 h-6 text-gray-500 hover:text-gray-600 cursor-pointer transition-all duration-300 ease-in-out"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18 17.94 6M18 18 6.06 6"
          />
        </svg>
      </div>
      <svg
        class="w-16 h-16 text-blue-500 m-auto mb-4"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8.5 11.5 11 14l4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
        />
      </svg>

      <h2 class="m-0 text-xl font-medium mb-1">Consulta salva com sucesso!</h2>
      <p class="text-gray-600 mb-3">Os dados foram salvos corretamente.</p>
    </div>
  </div>
</div>
